/* ===========================================
   Shared Component Styles
   =========================================== */
/* ── Pills - Base ───────────────────────── */
.pill {
  display: inline-flex;
  align-items: center;
  flex: 0 1 fit-content;
  height: 1.25rem;
  padding: 0 0.375rem 0.125rem;
  font-family: var(--font-ui);
  font-size: var(--text-xs);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 2%;
  border-radius: var(--radius-sm);
  white-space: nowrap;
  background: var(--pill-bg);
  color: var(--pill-text);
  width: fit-content;
}

.pill .points {
  font-variation-settings: 'wght' 640;
}

/* ── Pills - Cost Variants ──────────────── */
.pill.cost {
  --pill-bg: oklch(from var(--pill-bg-cost) l c h / 0.16);
  --pill-text: oklch(from var(--pill-bg-cost) calc(l * 0.88) c h);
  flex-shrink: 0;
}

.pill.cost:is(.selected .pill.cost) {
  --pill-bg: var(--pill-bg-cost);
  --pill-text: var(--pill-text-cost);
}

.pill.cost.free,
.pill.free {
  --pill-bg: var(--pill-bg-free);
  --pill-text: var(--pill-text-free);
}

.card-trait:hover .pill.cost,
.card-trait:focus-visible .pill.cost,
.card-trait:active .pill.cost {
  --pill-bg: oklch(from var(--pill-bg-cost) l c h / 0.72);
  --pill-text: white;
}

.pill.cost.free:is(.selected .pill.cost) {
  --pill-bg: var(--color-green-38);
  --pill-text: white;
}

.card-trait:hover .pill.cost.free,
.card-trait:focus-visible .pill.cost.free,
.card-trait:active .pill.cost.free {
  --pill-bg: var(--color-green-43);
  --pill-text: white;
}

/* ── Pills - Status/Meta ────────────────── */
.pill.required {
  --pill-bg: var(--color-warning);
  --pill-text: white;
}

.pill.restriction {
  --pill-bg: var(--pill-bg-restricted);
  --pill-text: var(--pill-text-restricted);
}

.pill.requirement {
  --pill-bg: var(--pill-bg-required);
  --pill-text: var(--pill-text-required);
}

.pill.size {
  --pill-bg: var(--pill-bg-size);
  --pill-text: var(--pill-text-size);
}

.pill.selected-option {
  font-weight: 500;
  --pill-bg: var(--pill-bg-free);
  --pill-text: var(--pill-text-free);
  border: 0.0625rem solid var(--pill-text-free);
}

/* ── Pills - Type Badges ────────────────── */
.pill.type {
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.pill.type.heritage {
  --pill-bg: var(--color-heritage-bg);
  --pill-text: var(--color-heritage-light);
}

.pill.type.culture {
  --pill-bg: var(--color-culture-bg);
  --pill-text: var(--color-culture-light);
}

.pill.type.core {
  --pill-bg: var(--color-gold-89);
  --pill-text: var(--color-gold-45);
}

/* Type badges on dark backgrounds (category headers) */
.pill.type.on-dark {
  --pill-bg: rgba(255, 255, 255, 0.16);
  --pill-text: rgba(255, 255, 255, 0.72);
  border: 0.0625rem solid rgba(255, 255, 255, 0.24);
}

/* ── Pills - Trait Pills (toolbar/summary) ─ */
.pill.trait {
  text-transform: none;
  font-size: 0.875rem;
  font-weight: 500;
  padding: 0 0.375rem 0.125rem;
  border: 1px solid var(--color-parchment-300);
  transition: all var(--transition-fast);
  cursor: pointer;
}

.pill.trait:hover {
  --pill-bg: var(--color-parchment-300);
  border-color: var(--color-ink-400);
  --pill-text: var(--color-ink-800);
}

/* ── Pills - Count Badges ───────────────── */
.pill.count {
  font-weight: 600;
  padding: 0.125rem var(--space-2);
  --pill-bg: rgba(255, 255, 255, 0.25);
  --pill-text: var(--color-parchment-100);
}

.pill.count.heritage {
  --pill-bg: var(--color-heritage);
  --pill-text: white;
}

.pill.count.culture {
  --pill-bg: var(--color-culture);
  --pill-text: white;
}

/* ── Pills - Dark Theme (tooltips) ──────── */
.pill.dark {
  --pill-bg: var(--color-gold-56);
  --pill-text: var(--color-parchment-50);
}

.pill.dark.free {
  --pill-bg: var(--color-green-38);
  --pill-text: var(--color-parchment-50);
}

/* ── Pills - Spacing Modifiers ──────────── */
.pill.spaced {
  margin-top: var(--space-2);
  margin-right: var(--space-1);
}

/* ── Pill Wrapper (for tooltips) ────────── */
.pill-wrapper {
  display: inline-flex;
  cursor: pointer;
}

.pill-wrapper.block {
  display: block;
}

/* ── Clickable requirement pill ─── */
.pill.clickable {
  cursor: pointer;
}

.pill.clickable:hover {
  background: oklch(from var(--category-background-light) calc(l * 1) calc(c * 1) h / 0.32);
  color: var(--color-ink-800);
}

.pill.pill-icon-only:is(.selected .pill.pill-icon-only),
.pill.pill-icon-only:is(.selected .pill.pill-icon-only) svg {
  opacity: 1;
}

.pill.pill-icon-only {
  align-items: center;
  flex: 0 1 auto;
  height: 1.25rem;
  justify-content: center;
  opacity: 0;
  padding: 0 0 0.0625rem;
  transition: opacity var(--transition-base);
  width: 1.25rem;
}

.pill.pill-icon-only svg {
  fill: var(--pill-text);
  height: 0.875rem;
  opacity: 0;
  transition: opacity var(--transition-base);
  width: 0.875rem;
}

/* ── Buttons ────────────────────────────── */
.btn {
  --btn-bg: var(--color-heritage);
  --btn-text: var(--color-parchment-50);
  --btn-border: none;
  --btn-icon-color: var(--color-parchment-50);
  background-color: var(--btn-bg);
  color: var(--btn-text);
  border: var(--btn-border);
  font-family: var(--font-ui);
  font-size: var(--text-sm);
  font-weight: 500;
  padding: 0.4375rem var(--space-4) 0.5625rem;
  border-radius: var(--radius-sm);
  transition: all var(--transition-fast);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  min-height: 2.25rem;
}

.btn svg {
  fill: var(--btn-icon-color);
}

.btn-primary {
  --btn-bg: var(--color-heritage);
  --btn-text: var(--color-parchment-50);
  --btn-border: 0.0625rem solid var(--color-heritage-dark);
}

.btn-primary:hover {
  background-color: var(--color-heritage-light);
}

.btn-secondary {
  --btn-bg: transparent;
  --btn-text: var(--color-ink-700);
  --btn-border: 0.0625rem solid var(--color-ink-500);
  --btn-icon-color: var(--color-ink-700);
}

.btn-secondary:hover,
.btn-secondary:focus-visible,
.btn-secondary:active {
  --btn-bg: var(--color-parchment-200);
  --btn-border: 0.0625rem solid var(--color-ink-700);
}

.btn-small {
  padding: 0.0625rem var(--space-2) 0.1875rem;
}

.btn-icon-only {
  aspect-ratio: 1 / 1;
  padding: 0;
  align-items: center;
  justify-content: center;
  /* width: 2.25rem; */
}

.btn-icon-only svg {
  height: 1rem;
  width: 1rem;
}

/* ── Form Elements ──────────────────────── */
select {
  font-family: var(--font-ui);
  font-size: var(--text-sm);
  padding: var(--space-2) var(--space-3);
  border: 1px solid var(--color-ink-500);
  border-radius: var(--radius-sm);
  background-color: var(--color-parchment-50);
  cursor: pointer;
}

select:hover {
  border-color: var(--color-ink-700);
}